<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>BTF Storage â€” File Upload</title>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Rajdhani:wght@400;600;700&display=swap" rel="stylesheet"/>
  <style>
    :root {
      --bg: #060810;
      --surface: #0c1121;
      --border: #1a2744;
      --accent: #00d4ff;
      --accent2: #ff6b35;
      --accent3: #7b5ea7;
      --text: #c8d8f0;
      --muted: #4a5a7a;
      --success: #00ff88;
      --error: #ff3d5a;
      --mono: 'Share Tech Mono', monospace;
      --sans: 'Rajdhani', sans-serif;
    }

    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      background: var(--bg);
      color: var(--text);
      font-family: var(--sans);
      font-size: 16px;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      overflow-x: hidden;
    }

    /* â”€â”€â”€ GRID BACKGROUND â”€â”€â”€ */
    body::before {
      content: '';
      position: fixed; inset: 0;
      background-image:
        linear-gradient(rgba(0, 212, 255, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 212, 255, 0.03) 1px, transparent 1px);
      background-size: 40px 40px;
      pointer-events: none;
      z-index: 0;
    }

    /* â”€â”€â”€ CORNER GLOW â”€â”€â”€ */
    body::after {
      content: '';
      position: fixed;
      top: -200px; left: -200px;
      width: 600px; height: 600px;
      background: radial-gradient(circle, rgba(0,212,255,0.06) 0%, transparent 70%);
      pointer-events: none;
      z-index: 0;
    }

    .container {
      position: relative; z-index: 1;
      width: 100%;
      max-width: 680px;
      padding: 24px 20px;
    }

    /* â”€â”€â”€ HEADER â”€â”€â”€ */
    header {
      margin-bottom: 36px;
      text-align: center;
    }

    .logo {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 10px;
    }

    .logo-icon {
      width: 44px; height: 44px;
      border: 2px solid var(--accent);
      display: flex; align-items: center; justify-content: center;
      font-family: var(--mono);
      font-size: 14px;
      color: var(--accent);
      position: relative;
      clip-path: polygon(8px 0%, 100% 0%, 100% calc(100% - 8px), calc(100% - 8px) 100%, 0% 100%, 0% 8px);
      box-shadow: 0 0 20px rgba(0,212,255,0.2), inset 0 0 15px rgba(0,212,255,0.05);
    }

    .logo-text {
      font-family: var(--sans);
      font-size: 28px;
      font-weight: 700;
      letter-spacing: 4px;
      text-transform: uppercase;
      color: var(--accent);
      text-shadow: 0 0 30px rgba(0,212,255,0.4);
    }

    .tagline {
      font-family: var(--mono);
      font-size: 11px;
      color: var(--muted);
      letter-spacing: 2px;
      text-transform: uppercase;
    }

    /* â”€â”€â”€ CARD â”€â”€â”€ */
    .card {
      background: var(--surface);
      border: 1px solid var(--border);
      position: relative;
      overflow: hidden;
    }

    /* corner decorations */
    .card::before, .card::after {
      content: '';
      position: absolute;
      width: 16px; height: 16px;
      border-color: var(--accent);
      border-style: solid;
    }
    .card::before {
      top: -1px; left: -1px;
      border-width: 2px 0 0 2px;
    }
    .card::after {
      bottom: -1px; right: -1px;
      border-width: 0 2px 2px 0;
    }

    .card-inner {
      padding: 32px;
    }

    /* â”€â”€â”€ DROP ZONE â”€â”€â”€ */
    .drop-zone {
      border: 1.5px dashed var(--border);
      padding: 52px 24px;
      text-align: center;
      cursor: pointer;
      transition: all 0.25s ease;
      position: relative;
      background: rgba(0,0,0,0.2);
      margin-bottom: 24px;
    }

    .drop-zone:hover, .drop-zone.drag-over {
      border-color: var(--accent);
      background: rgba(0, 212, 255, 0.04);
      box-shadow: 0 0 30px rgba(0, 212, 255, 0.06) inset;
    }

    .drop-zone.drag-over .dz-icon {
      transform: scale(1.15) translateY(-4px);
      color: var(--accent);
    }

    .dz-icon {
      font-size: 42px;
      margin-bottom: 14px;
      display: block;
      transition: all 0.25s ease;
      color: var(--muted);
      line-height: 1;
    }

    .dz-title {
      font-size: 18px;
      font-weight: 600;
      color: var(--text);
      margin-bottom: 6px;
      letter-spacing: 1px;
      text-transform: uppercase;
    }

    .dz-sub {
      font-family: var(--mono);
      font-size: 12px;
      color: var(--muted);
    }

    .dz-sub span {
      color: var(--accent);
    }

    #fileInput {
      display: none;
    }

    /* â”€â”€â”€ FILE INFO PANEL â”€â”€â”€ */
    .file-info {
      display: none;
      background: rgba(0, 212, 255, 0.04);
      border: 1px solid rgba(0, 212, 255, 0.2);
      padding: 14px 18px;
      margin-bottom: 20px;
      gap: 12px;
      align-items: center;
    }

    .file-info.visible { display: flex; }

    .fi-icon {
      font-size: 26px;
      flex-shrink: 0;
    }

    .fi-details { flex: 1; min-width: 0; }

    .fi-name {
      font-family: var(--mono);
      font-size: 13px;
      color: var(--accent);
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .fi-meta {
      font-family: var(--mono);
      font-size: 11px;
      color: var(--muted);
      margin-top: 3px;
    }

    .fi-clear {
      background: none;
      border: none;
      color: var(--error);
      cursor: pointer;
      font-size: 18px;
      padding: 4px;
      line-height: 1;
      opacity: 0.7;
      transition: opacity 0.2s;
    }
    .fi-clear:hover { opacity: 1; }

    /* â”€â”€â”€ UPLOAD BTN â”€â”€â”€ */
    .upload-btn {
      width: 100%;
      padding: 16px;
      background: transparent;
      border: 1.5px solid var(--accent);
      color: var(--accent);
      font-family: var(--sans);
      font-size: 16px;
      font-weight: 700;
      letter-spacing: 3px;
      text-transform: uppercase;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      transition: all 0.25s ease;
      clip-path: polygon(12px 0%, 100% 0%, calc(100% - 12px) 100%, 0% 100%);
    }

    .upload-btn::before {
      content: '';
      position: absolute; inset: 0;
      background: var(--accent);
      transform: translateX(-100%);
      transition: transform 0.3s ease;
      z-index: 0;
    }

    .upload-btn:hover:not(:disabled)::before { transform: translateX(0); }

    .upload-btn:hover:not(:disabled) {
      color: var(--bg);
      box-shadow: 0 0 30px rgba(0,212,255,0.3);
    }

    .upload-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .upload-btn span { position: relative; z-index: 1; }

    /* â”€â”€â”€ PROGRESS â”€â”€â”€ */
    .progress-wrap {
      display: none;
      margin-top: 20px;
    }
    .progress-wrap.visible { display: block; }

    .progress-label {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
    }

    .progress-label .plabel {
      font-family: var(--mono);
      font-size: 12px;
      color: var(--muted);
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .progress-label .ppct {
      font-family: var(--mono);
      font-size: 12px;
      color: var(--accent);
    }

    .progress-bar-bg {
      height: 4px;
      background: var(--border);
      overflow: hidden;
    }

    .progress-bar {
      height: 100%;
      background: linear-gradient(90deg, var(--accent), var(--accent3));
      width: 0%;
      transition: width 0.3s ease;
      box-shadow: 0 0 10px rgba(0,212,255,0.5);
    }

    .progress-bar.indeterminate {
      width: 40%;
      animation: indeterminate 1.4s ease infinite;
    }

    @keyframes indeterminate {
      0%   { transform: translateX(-100%); }
      100% { transform: translateX(350%); }
    }

    .progress-status {
      font-family: var(--mono);
      font-size: 11px;
      color: var(--muted);
      margin-top: 8px;
      text-align: center;
    }

    /* â”€â”€â”€ RESULT â”€â”€â”€ */
    .result-box {
      display: none;
      margin-top: 24px;
      border: 1px solid var(--border);
      overflow: hidden;
    }
    .result-box.visible { display: block; }

    .result-header {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px 16px;
      background: rgba(0,0,0,0.3);
      border-bottom: 1px solid var(--border);
    }

    .result-header .r-icon { font-size: 18px; }
    .result-header .r-title {
      font-family: var(--mono);
      font-size: 13px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    .result-header.success { color: var(--success); }
    .result-header.error   { color: var(--error); }

    .result-body { padding: 16px; }

    /* â”€â”€â”€ URL ROWS â”€â”€â”€ */
    .url-row {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 12px;
    }
    .url-row:last-child { margin-bottom: 0; }

    .url-label {
      font-family: var(--mono);
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: var(--muted);
      min-width: 68px;
      flex-shrink: 0;
    }

    .url-input {
      flex: 1;
      background: rgba(0,0,0,0.4);
      border: 1px solid var(--border);
      color: var(--accent);
      font-family: var(--mono);
      font-size: 12px;
      padding: 8px 12px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      min-width: 0;
      cursor: text;
    }

    .copy-btn {
      flex-shrink: 0;
      background: transparent;
      border: 1px solid var(--border);
      color: var(--muted);
      font-family: var(--mono);
      font-size: 11px;
      padding: 8px 12px;
      cursor: pointer;
      text-transform: uppercase;
      letter-spacing: 1px;
      transition: all 0.2s;
      white-space: nowrap;
    }

    .copy-btn:hover { border-color: var(--accent); color: var(--accent); }
    .copy-btn.copied { border-color: var(--success); color: var(--success); }

    /* â”€â”€â”€ STATS â”€â”€â”€ */
    .stats-row {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      margin-top: 16px;
    }

    .stat {
      border: 1px solid var(--border);
      padding: 10px 12px;
      text-align: center;
    }

    .stat-val {
      font-family: var(--mono);
      font-size: 15px;
      color: var(--accent);
      display: block;
    }

    .stat-label {
      font-family: var(--mono);
      font-size: 10px;
      color: var(--muted);
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-top: 4px;
      display: block;
    }

    /* â”€â”€â”€ ERROR MSG â”€â”€â”€ */
    .err-msg {
      font-family: var(--mono);
      font-size: 13px;
      color: var(--error);
      line-height: 1.6;
    }

    /* â”€â”€â”€ FOOTER â”€â”€â”€ */
    footer {
      margin-top: 28px;
      text-align: center;
      font-family: var(--mono);
      font-size: 11px;
      color: var(--muted);
      letter-spacing: 1px;
    }

    footer span { color: var(--accent3); }

    /* â”€â”€â”€ SCANLINE EFFECT â”€â”€â”€ */
    @keyframes scanline {
      0% { transform: translateY(-100%); }
      100% { transform: translateY(100vh); }
    }

    .scanline {
      position: fixed;
      top: 0; left: 0; right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, rgba(0,212,255,0.08), transparent);
      animation: scanline 8s linear infinite;
      pointer-events: none;
      z-index: 999;
    }

    /* â”€â”€â”€ TOAST â”€â”€â”€ */
    .toast {
      position: fixed;
      bottom: 24px; right: 24px;
      background: var(--surface);
      border: 1px solid var(--success);
      color: var(--success);
      font-family: var(--mono);
      font-size: 13px;
      padding: 12px 20px;
      transform: translateX(120%);
      transition: transform 0.3s ease;
      z-index: 100;
      clip-path: polygon(8px 0%, 100% 0%, calc(100% - 8px) 100%, 0% 100%);
    }
    .toast.show { transform: translateX(0); }

    /* â”€â”€â”€ RESPONSIVE â”€â”€â”€ */
    @media (max-width: 480px) {
      .card-inner { padding: 20px; }
      .stats-row { grid-template-columns: repeat(2, 1fr); }
      .url-row { flex-wrap: wrap; }
      .url-input { min-width: 100%; }
    }
  </style>
</head>
<body>

<div class="scanline"></div>

<div class="container">
  <!-- HEADER -->
  <header>
    <div class="logo">
      <div class="logo-icon">BTF</div>
      <div class="logo-text">Storage</div>
    </div>
    <p class="tagline">Decentralized File Streaming System</p>
  </header>

  <!-- UPLOAD CARD -->
  <div class="card">
    <div class="card-inner">

      <!-- DROP ZONE -->
      <div class="drop-zone" id="dropZone">
        <span class="dz-icon">â¬¡</span>
        <p class="dz-title">Drop file here</p>
        <p class="dz-sub">or <span>click to browse</span> &nbsp;Â·&nbsp; Max <span>100MB</span></p>
        <input type="file" id="fileInput" />
      </div>

      <!-- FILE INFO -->
      <div class="file-info" id="fileInfo">
        <div class="fi-icon" id="fiIcon">ðŸ“„</div>
        <div class="fi-details">
          <div class="fi-name" id="fiName">â€”</div>
          <div class="fi-meta" id="fiMeta">â€”</div>
        </div>
        <button class="fi-clear" id="fiClear" title="Remove file">âœ•</button>
      </div>

      <!-- UPLOAD BUTTON -->
      <button class="upload-btn" id="uploadBtn" disabled>
        <span id="btnText">SELECT A FILE FIRST</span>
      </button>

      <!-- PROGRESS -->
      <div class="progress-wrap" id="progressWrap">
        <div class="progress-label">
          <span class="plabel" id="progressLabel">Uploading...</span>
          <span class="ppct" id="progressPct"></span>
        </div>
        <div class="progress-bar-bg">
          <div class="progress-bar indeterminate" id="progressBar"></div>
        </div>
        <div class="progress-status" id="progressStatus">Connecting to servers...</div>
      </div>

      <!-- RESULT BOX -->
      <div class="result-box" id="resultBox">
        <div class="result-header" id="resultHeader">
          <span class="r-icon" id="resultIcon"></span>
          <span class="r-title" id="resultTitle"></span>
        </div>
        <div class="result-body" id="resultBody"></div>
      </div>

    </div>
  </div>

  <footer>
    BTF Storage &nbsp;Â·&nbsp; Powered by <span>Cloudflare + Telegram</span>
  </footer>
</div>

<!-- TOAST -->
<div class="toast" id="toast"></div>

<script>
  const dropZone    = document.getElementById('dropZone');
  const fileInput   = document.getElementById('fileInput');
  const fileInfo    = document.getElementById('fileInfo');
  const fiName      = document.getElementById('fiName');
  const fiMeta      = document.getElementById('fiMeta');
  const fiIcon      = document.getElementById('fiIcon');
  const fiClear     = document.getElementById('fiClear');
  const uploadBtn   = document.getElementById('uploadBtn');
  const btnText     = document.getElementById('btnText');
  const progressWrap  = document.getElementById('progressWrap');
  const progressBar   = document.getElementById('progressBar');
  const progressLabel = document.getElementById('progressLabel');
  const progressPct   = document.getElementById('progressPct');
  const progressStatus = document.getElementById('progressStatus');
  const resultBox   = document.getElementById('resultBox');
  const resultHeader = document.getElementById('resultHeader');
  const resultIcon  = document.getElementById('resultIcon');
  const resultTitle = document.getElementById('resultTitle');
  const resultBody  = document.getElementById('resultBody');
  const toast       = document.getElementById('toast');

  let selectedFile = null;

  // â”€â”€â”€ FILE ICON MAP â”€â”€â”€
  function getFileIcon(type, name) {
    if (type.startsWith('video/')) return 'ðŸŽ¬';
    if (type.startsWith('audio/')) return 'ðŸŽµ';
    if (type.startsWith('image/')) return 'ðŸ–¼ï¸';
    if (type === 'application/pdf') return 'ðŸ“•';
    if (type.includes('zip') || type.includes('rar')) return 'ðŸ“¦';
    if (name.endsWith('.mkv') || name.endsWith('.avi')) return 'ðŸŽ¬';
    return 'ðŸ“„';
  }

  // â”€â”€â”€ FORMAT BYTES â”€â”€â”€
  function formatBytes(bytes) {
    if (bytes >= 1024 * 1024) return `${(bytes / 1024 / 1024).toFixed(2)} MB`;
    if (bytes >= 1024) return `${(bytes / 1024).toFixed(1)} KB`;
    return `${bytes} B`;
  }

  // â”€â”€â”€ SET FILE â”€â”€â”€
  function setFile(file) {
    selectedFile = file;
    fiName.textContent = file.name;
    fiMeta.textContent = `${formatBytes(file.size)} Â· ${file.type || 'unknown type'}`;
    fiIcon.textContent = getFileIcon(file.type, file.name);
    fileInfo.classList.add('visible');
    uploadBtn.disabled = false;
    btnText.textContent = 'â¬†  UPLOAD FILE';
    resultBox.classList.remove('visible');
  }

  // â”€â”€â”€ CLEAR FILE â”€â”€â”€
  function clearFile() {
    selectedFile = null;
    fileInput.value = '';
    fileInfo.classList.remove('visible');
    uploadBtn.disabled = true;
    btnText.textContent = 'SELECT A FILE FIRST';
    progressWrap.classList.remove('visible');
    resultBox.classList.remove('visible');
  }

  // â”€â”€â”€ DROP ZONE EVENTS â”€â”€â”€
  dropZone.addEventListener('click', () => fileInput.click());

  dropZone.addEventListener('dragover', e => {
    e.preventDefault();
    dropZone.classList.add('drag-over');
  });

  dropZone.addEventListener('dragleave', () => {
    dropZone.classList.remove('drag-over');
  });

  dropZone.addEventListener('drop', e => {
    e.preventDefault();
    dropZone.classList.remove('drag-over');
    const file = e.dataTransfer.files[0];
    if (file) setFile(file);
  });

  fileInput.addEventListener('change', e => {
    if (e.target.files[0]) setFile(e.target.files[0]);
  });

  fiClear.addEventListener('click', clearFile);

  // â”€â”€â”€ SHOW TOAST â”€â”€â”€
  function showToast(msg, duration = 2500) {
    toast.textContent = msg;
    toast.classList.add('show');
    setTimeout(() => toast.classList.remove('show'), duration);
  }

  // â”€â”€â”€ COPY BUTTON â”€â”€â”€
  function makeCopyBtn(text) {
    const btn = document.createElement('button');
    btn.className = 'copy-btn';
    btn.textContent = 'COPY';
    btn.addEventListener('click', () => {
      navigator.clipboard.writeText(text).then(() => {
        btn.textContent = 'âœ“ COPIED';
        btn.classList.add('copied');
        showToast('ðŸ“‹ Copied to clipboard!');
        setTimeout(() => {
          btn.textContent = 'COPY';
          btn.classList.remove('copied');
        }, 2000);
      });
    });
    return btn;
  }

  // â”€â”€â”€ SHOW RESULT â”€â”€â”€
  function showSuccess(data) {
    resultHeader.className = 'result-header success';
    resultIcon.textContent = 'âœ“';
    resultTitle.textContent = 'Upload Complete â€” File Ready';
    resultBox.classList.add('visible');

    const urls = data.urls;
    const urlList = [
      { label: 'Stream', url: urls.stream },
      { label: 'Download', url: urls.download },
      ...(urls.hls ? [{ label: 'HLS (.m3u8)', url: urls.hls }] : [])
    ];

    let html = '';
    resultBody.innerHTML = '';

    urlList.forEach(({ label, url }) => {
      const row = document.createElement('div');
      row.className = 'url-row';

      const lbl = document.createElement('span');
      lbl.className = 'url-label';
      lbl.textContent = label;

      const inp = document.createElement('div');
      inp.className = 'url-input';
      inp.textContent = url;
      inp.title = url;

      row.appendChild(lbl);
      row.appendChild(inp);
      row.appendChild(makeCopyBtn(url));
      resultBody.appendChild(row);
    });

    // Stats
    const stats = document.createElement('div');
    stats.className = 'stats-row';
    stats.innerHTML = `
      <div class="stat">
        <span class="stat-val">${data.sizeHuman}</span>
        <span class="stat-label">Size</span>
      </div>
      <div class="stat">
        <span class="stat-val">${data.uploadMode === 'chunked' ? `${data.chunks} chunks` : 'Direct'}</span>
        <span class="stat-label">Mode</span>
      </div>
      <div class="stat">
        <span class="stat-val">${data.fileId.split('-')[1]}</span>
        <span class="stat-label">File ID</span>
      </div>
    `;
    resultBody.appendChild(stats);
  }

  function showError(msg) {
    resultHeader.className = 'result-header error';
    resultIcon.textContent = 'âœ•';
    resultTitle.textContent = 'Upload Failed';
    resultBody.innerHTML = `<div class="err-msg">${msg}</div>`;
    resultBox.classList.add('visible');
  }

  // â”€â”€â”€ UPLOAD â”€â”€â”€
  uploadBtn.addEventListener('click', async () => {
    if (!selectedFile) return;

    // Disable UI
    uploadBtn.disabled = true;
    btnText.textContent = 'UPLOADINGâ€¦';
    progressWrap.classList.add('visible');
    resultBox.classList.remove('visible');

    // Animate progress
    progressBar.style.width = '0%';
    progressBar.classList.add('indeterminate');
    progressLabel.textContent = 'Uploading';
    progressPct.textContent = '';
    progressStatus.textContent = 'Connecting to Telegram serversâ€¦';

    // Status messages cycle
    const statusMessages = [
      'Uploading to Telegramâ€¦',
      'Storing metadata in KVâ€¦',
      'Processing file chunksâ€¦',
      'Almost doneâ€¦'
    ];
    let msgIdx = 0;
    const msgInterval = setInterval(() => {
      msgIdx = (msgIdx + 1) % statusMessages.length;
      progressStatus.textContent = statusMessages[msgIdx];
    }, 2500);

    try {
      const formData = new FormData();
      formData.append('file', selectedFile);

      const response = await fetch('/btfstorage/upload', {
        method: 'POST',
        body: formData
      });

      clearInterval(msgInterval);

      const data = await response.json();

      // Done animation
      progressBar.classList.remove('indeterminate');
      progressBar.style.width = '100%';
      progressPct.textContent = '100%';

      if (response.ok && data.success) {
        progressLabel.textContent = 'Complete';
        progressStatus.textContent = `âœ“ ${data.filename} uploaded successfully`;
        btnText.textContent = 'âœ“ UPLOAD ANOTHER';
        uploadBtn.disabled = false;
        showSuccess(data);
        showToast('ðŸŽ‰ File uploaded successfully!', 3000);
      } else {
        progressLabel.textContent = 'Failed';
        progressStatus.textContent = 'âœ• Upload failed';
        progressBar.style.background = 'var(--error)';
        btnText.textContent = 'RETRY UPLOAD';
        uploadBtn.disabled = false;
        showError(data.error || 'Unknown error occurred');
      }

    } catch (err) {
      clearInterval(msgInterval);
      progressBar.classList.remove('indeterminate');
      progressBar.style.background = 'var(--error)';
      progressLabel.textContent = 'Error';
      progressStatus.textContent = `âœ• ${err.message}`;
      btnText.textContent = 'RETRY UPLOAD';
      uploadBtn.disabled = false;
      showError(`Network error: ${err.message}`);
    }
  });

  // â”€â”€â”€ CLICK "UPLOAD ANOTHER" resets â”€â”€â”€
  uploadBtn.addEventListener('click', () => {
    if (btnText.textContent.includes('ANOTHER')) {
      clearFile();
      progressWrap.classList.remove('visible');
      btnText.textContent = 'SELECT A FILE FIRST';
    }
  });
</script>
</body>
</html>
